import cn from 'classnames';
import { useCallback, useContext, useEffect, useState } from 'react';
import { useNavigate, useSearchParams } from 'react-router-dom';
import { CopyToClipboard } from 'react-copy-to-clipboard';
import { XWalletProviderContext } from '~popup/context';

function AddressCopyBox({ address = '', classnames = '' }) {
  const handleCopyAddress = useCallback(() => {
    console.log('copied');
  }, []);
  return (
    <CopyToClipboard text={address} onCopy={handleCopyAddress}>
      <div
        className={cn(
          'h-8 rounded-2xl bg-[#E9E9E9] text-[#AEAEAE]',
          'flex justify-center items-center',
          classnames
        )}
      >
        {address} &nbsp;&nbsp;
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="12"
          height="15"
          viewBox="0 0 12 15"
          fill="none"
        >
          <rect
            x="0.5"
            y="0.5"
            width="8"
            height="11"
            fill="#F7F7F7"
            stroke="#DCDCDC"
          />
          <rect
            x="3.5"
            y="3.5"
            width="8"
            height="11"
            fill="#F7F7F7"
            stroke="#DCDCDC"
          />
        </svg>
      </div>
    </CopyToClipboard>
  );
}

function StatusIcon({ status = 'success' }) {
  const classStr =
    'flex justify-center items-center flex-col text-base font-semibold';

  switch (status) {
    case 'success':
      return (
        <div className={cn(classStr, 'text-[#4CBC16]')}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="35"
            height="35"
            viewBox="0 0 35 35"
            fill="none"
          >
            <path
              d="M34.9995 16.2471C35.0055 15.7598 34.9516 15.2799 34.8856 14.8001C34.8661 14.6584 34.8699 14.5077 34.8219 14.3764C34.7455 14.1658 34.7043 13.9573 34.735 13.7354C34.744 13.6732 34.7267 13.6222 34.6758 13.5884C34.5851 13.5277 34.5739 13.4385 34.5731 13.3418C34.5731 13.248 34.5814 13.1483 34.5326 13.0666C34.37 12.7944 34.3925 12.4713 34.2763 12.1811C34.1932 11.9734 34.1235 11.7485 34.0493 11.5341C33.9961 11.3804 33.9608 11.2154 33.8866 11.0662C33.7547 10.8008 33.5899 10.5436 33.5104 10.2624C33.422 9.94754 33.2474 9.67912 33.0975 9.4062C32.8629 8.97883 32.6523 8.53421 32.3615 8.13608C32.1794 7.88716 32.0453 7.60225 31.8542 7.36082C31.5544 6.98218 31.2644 6.5968 30.9579 6.22266C30.4962 5.65883 29.9866 5.14299 29.4642 4.63989C29.2102 4.39547 28.9172 4.19003 28.6534 3.9576C28.3558 3.69518 28.0493 3.44475 27.7211 3.23107C27.207 2.89592 26.7243 2.51354 26.163 2.24437C25.771 2.05617 25.4113 1.802 24.9976 1.64755C24.8635 1.59731 24.7173 1.54108 24.6012 1.45935C24.4416 1.34689 24.2534 1.27491 24.0878 1.23367C23.8562 1.17594 23.6659 1.04098 23.4403 0.980999C23.1848 0.912769 22.9389 0.808551 22.6871 0.724576C22.4518 0.64585 22.1985 0.615109 21.9699 0.532634C21.6709 0.424667 21.3554 0.41417 21.0556 0.301704C20.8128 0.210981 20.5213 0.175742 20.2635 0.155498C19.8116 0.120259 19.3686 0.00854264 18.9145 0.00854264C18.228 0.00854264 17.5423 0.0137911 16.8558 0.00104491C16.2757 -0.0102017 15.7039 0.0722734 15.1284 0.107513C14.7094 0.133005 14.325 0.330195 13.9023 0.297205C13.8746 0.294956 13.8386 0.311451 13.8161 0.330195C13.7119 0.417169 13.5905 0.423917 13.4631 0.422417C13.4077 0.422417 13.338 0.416419 13.2998 0.44566C13.0277 0.651848 12.6755 0.555127 12.3817 0.708831C12.1284 0.841541 11.8354 0.900023 11.5588 0.987747C11.3887 1.04173 11.2381 1.16244 11.0709 1.19243C10.8386 1.23442 10.6333 1.33939 10.4347 1.43536C10.1634 1.56657 9.87635 1.66629 9.61555 1.82449C9.24758 2.04793 8.83614 2.19188 8.47941 2.44006C8.26582 2.58851 8.04024 2.71747 7.82441 2.86218C7.34177 3.18608 6.85689 3.50773 6.42222 3.89687C6.16816 4.1248 5.86839 4.30624 5.63757 4.54992C5.18641 5.02528 4.67529 5.43915 4.27285 5.96774C3.85467 6.51882 3.37578 7.02342 2.99882 7.60749C2.78148 7.94489 2.54016 8.26954 2.34381 8.61894C2.16395 8.93984 2.00282 9.27649 1.81921 9.59289C1.66108 9.86581 1.55841 10.159 1.40852 10.4326C1.34707 10.5444 1.28711 10.6688 1.25564 10.7873C1.21367 10.9432 1.06903 11.0505 1.06004 11.1959C1.04505 11.4456 0.915397 11.6525 0.856941 11.885C0.775253 12.2111 0.590893 12.5103 0.577403 12.8589C0.575904 12.8896 0.572906 12.9271 0.555669 12.9481C0.359318 13.1791 0.417025 13.4887 0.315851 13.7556C0.219175 14.0106 0.177206 14.3202 0.150227 14.6051C0.0902724 15.2222 -0.0228918 15.8355 0.00408777 16.4623C0.028819 17.0419 -0.00265712 17.623 0.0115821 18.2033C0.0258213 18.7671 0.000340615 19.3294 0.084277 19.897C0.150976 20.3499 0.292619 20.7945 0.289621 21.2586C0.289621 21.2999 0.305359 21.3478 0.33009 21.3808C0.412528 21.4918 0.435011 21.6155 0.438009 21.7505C0.439507 21.8299 0.447002 21.9214 0.485972 21.9859C0.640355 22.2371 0.602884 22.537 0.714549 22.8046C0.80598 23.0251 0.877925 23.2703 0.958114 23.4982C1.07278 23.8236 1.18144 24.161 1.35082 24.4706C1.40552 24.5719 1.49546 24.6648 1.51045 24.7811C1.53518 24.9782 1.65509 25.1357 1.73827 25.2999C1.86568 25.5503 2.00132 25.8022 2.13172 26.0512C2.30184 26.3751 2.4892 26.6915 2.68555 26.9921C2.96134 27.4135 3.24838 27.8326 3.57138 28.224C4.01729 28.7653 4.45047 29.3179 4.95483 29.8053C5.33629 30.1734 5.69003 30.5738 6.10896 30.9C6.43946 31.1571 6.76321 31.4218 7.1027 31.6692C7.35601 31.8544 7.61531 32.0359 7.87537 32.2068C8.25683 32.4565 8.62405 32.7331 9.04748 32.9206C9.32852 33.0443 9.59007 33.2122 9.86586 33.3495C10.009 33.4207 10.1611 33.4642 10.2983 33.5347C10.4736 33.6254 10.6677 33.6794 10.8304 33.7903C10.9945 33.902 11.1924 33.9073 11.3625 33.9815C11.6165 34.0925 11.8833 34.16 12.1404 34.2582C12.375 34.3482 12.6005 34.4599 12.8613 34.4426C12.8673 34.4426 12.8741 34.4456 12.8786 34.4486C13.1401 34.6211 13.4594 34.6008 13.7472 34.6938C13.9982 34.7748 14.28 34.8243 14.5446 34.849C15.0317 34.8955 15.5106 35.0192 16.0074 34.9975C16.5058 34.9757 17.0049 34.993 17.7296 34.993C18.2985 34.9487 19.0936 35.0439 19.8903 34.924C20.3497 34.855 20.8008 34.726 21.2692 34.7125C21.3112 34.711 21.3569 34.6961 21.3936 34.6751C21.6559 34.5244 21.9624 34.5184 22.2442 34.4434C22.511 34.3722 22.7733 34.2747 23.0394 34.2027C23.1997 34.1592 23.3864 34.1382 23.5265 34.0467C23.7169 33.923 23.9394 33.9013 24.138 33.8016C24.3996 33.6711 24.6724 33.5534 24.9437 33.4379C25.2142 33.3225 25.4735 33.1718 25.7351 33.0301C26.1038 32.8306 26.4688 32.6289 26.8195 32.3972C27.1433 32.1843 27.467 31.9729 27.7855 31.7524C28.1138 31.526 28.4345 31.2883 28.7395 31.0364C29.0476 30.7815 29.3376 30.5026 29.6254 30.2214C30.1252 29.7341 30.6154 29.2392 31.0575 28.6994C31.3805 28.305 31.6901 27.8971 31.9756 27.475C32.1337 27.2418 32.2963 27.0086 32.45 26.7724C32.6486 26.4673 32.815 26.1464 32.9888 25.83C33.1267 25.5796 33.2519 25.3171 33.3785 25.0592C33.5217 24.7668 33.6378 24.4639 33.7705 24.1685C33.8229 24.0515 33.9264 23.9608 33.9354 23.8191C33.9511 23.5619 34.1092 23.349 34.1699 23.1016C34.2276 22.8654 34.376 22.6487 34.3978 22.402C34.4225 22.1209 34.6053 21.8802 34.5851 21.59C34.5836 21.563 34.6068 21.5315 34.6248 21.5068C34.7028 21.4003 34.7215 21.2796 34.72 21.1521C34.7185 21.0389 34.723 20.9257 34.7627 20.8193C34.9254 20.3754 34.9516 19.9008 34.9718 19.4442C35.019 18.3787 34.9831 17.3103 34.9958 16.2434L34.9995 16.2471Z"
              fill="#4CBC16"
            />
            <path
              d="M27.7173 9.85455C27.8042 10.2504 27.5682 10.5698 27.3366 10.8772C26.8524 11.5198 26.3496 12.1481 25.8535 12.7809C25.5634 13.1513 25.2704 13.5194 24.9774 13.8876C24.4985 14.4889 24.0166 15.088 23.54 15.6915C23.2469 16.0627 22.9824 16.4578 22.6691 16.8102C22.3184 17.2053 22.0059 17.629 21.6814 18.0428C21.4535 18.3337 21.1875 18.5984 21.0039 18.9261C20.9207 19.0745 20.7963 19.2027 20.6794 19.3294C20.3661 19.6676 20.0986 20.0432 19.8183 20.4061C19.5725 20.7248 19.2884 21.0142 19.0696 21.3553C18.937 21.5623 18.7563 21.737 18.6102 21.9364C18.4116 22.2071 18.1575 22.4335 17.9949 22.7349C17.926 22.8624 17.7986 22.9576 17.7056 23.0738C17.3429 23.5282 16.9929 23.9923 16.6205 24.4384C16.3522 24.76 16.1228 25.1117 15.8231 25.4123C15.4723 25.7632 14.579 25.8157 14.208 25.4453C13.7599 24.9977 13.3424 24.5224 12.9048 24.0665C12.554 23.7006 12.2265 23.313 11.8721 22.9501C11.4329 22.4995 11.0215 22.0219 10.5943 21.5593C10.2975 21.2376 9.99848 20.9167 9.69196 20.6048C9.4439 20.3521 9.23631 20.0567 8.986 19.8175C8.69147 19.5364 8.43442 19.2215 8.14889 18.9343C7.86035 18.6441 7.54484 18.36 7.34849 17.9843C7.27655 17.8471 7.31327 17.6529 7.13416 17.572C7.19261 17.4265 7.10942 17.2713 7.15139 17.1311C7.25706 16.7757 7.344 16.4031 7.63702 16.1444C7.76892 16.0282 7.91581 15.918 8.09942 15.8812C8.16013 15.8692 8.22458 15.858 8.27854 15.8295C8.4629 15.7305 8.62328 15.7598 8.82487 15.8257C9.1224 15.9225 9.34798 16.1047 9.53833 16.3153C9.75866 16.5583 9.98274 16.7982 10.2083 17.0366C10.5763 17.4243 10.939 17.8156 11.301 18.2085C11.4988 18.4237 11.6862 18.6479 11.8848 18.8631C12.1186 19.1165 12.3502 19.3737 12.5983 19.6128C12.9085 19.9113 13.1656 20.2569 13.4639 20.5651C13.8131 20.9257 14.1533 21.2938 14.4973 21.659C14.5775 21.7437 14.6637 21.8247 14.7349 21.9169C14.8323 22.0436 14.9163 22.0474 15.0167 21.9214C15.2962 21.572 15.5817 21.2264 15.8613 20.877C16.1506 20.5148 16.4428 20.1542 16.7224 19.7845C16.9652 19.4629 17.247 19.1727 17.4666 18.8316C17.5827 18.6509 17.7371 18.4919 17.8862 18.3345C18.0571 18.1545 18.171 17.9326 18.3367 17.7497C18.8425 17.1918 19.2772 16.5763 19.7501 15.9914C20.157 15.4883 20.5805 14.9972 20.9627 14.4739C21.3681 13.9191 21.8298 13.4107 22.2442 12.8641C22.6399 12.3408 23.0206 11.8062 23.4875 11.3406C23.6187 11.2101 23.6584 11.0137 23.782 10.8817C24.1163 10.5233 24.4048 10.1282 24.7106 9.74733C25.0088 9.37695 25.2944 8.99456 25.6196 8.65042C25.7425 8.51996 25.9187 8.39174 26.1352 8.39699C26.3211 8.40149 26.5032 8.34676 26.6936 8.38275C27.1148 8.46147 27.3681 8.73289 27.5674 9.08603C27.6993 9.31921 27.739 9.56364 27.7173 9.85605V9.85455Z"
              fill="white"
            />
          </svg>
          Completed
        </div>
      );
    case 'error':
      return (
        <div className={cn(classStr, 'text-[#B82929]')}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="36"
            height="35"
            viewBox="0 0 36 35"
            fill="none"
          >
            <path
              d="M35.0282 17.4764C34.9205 22.3752 33.2665 26.5416 29.8263 29.94C26.3931 33.3324 22.2076 35.0029 17.4105 35.0003C13.344 34.9977 9.64502 33.7215 6.48721 31.1301C2.19832 27.611 0.0395411 23.0137 0.000448548 17.4773C-0.0282193 13.3013 1.31743 9.5554 3.99658 6.34373C7.51404 2.12695 12.1044 0.0324573 17.5487 0.00031457C21.9427 -0.0248784 25.8893 1.46324 29.1565 4.43167C33.0067 7.92915 34.8858 12.3683 35.0282 17.4764ZM11.3034 9.47548C10.9316 9.45116 10.5589 9.52065 10.2418 9.72654C9.61548 10.134 9.23063 10.7047 9.24106 11.4779C9.24453 11.7411 9.24888 12.0174 9.35573 12.2658C9.50602 12.6124 9.76143 12.887 10.0246 13.1502C10.8812 14.0093 11.7386 14.8676 12.5978 15.7233C13.1494 16.2724 13.7054 16.8171 14.2588 17.3652C14.4021 17.5077 14.4256 17.678 14.3196 17.7848C13.8887 18.2157 13.4631 18.6509 13.0252 19.074C12.444 19.6361 11.8846 20.2207 11.2973 20.7776C10.7552 21.291 10.241 21.8339 9.71973 22.3682C9.53208 22.5602 9.38179 22.8008 9.32967 23.051C9.21413 23.6009 9.18025 24.1491 9.47388 24.6868C9.71191 25.1229 10.0594 25.453 10.4825 25.6138C10.8221 25.7432 11.2044 25.8544 11.6335 25.738C12.1148 25.6077 12.5075 25.3992 12.848 25.0526C13.6385 24.249 14.4247 23.4419 15.2274 22.6505C15.8851 22.0016 16.5453 21.3561 17.189 20.6942C17.3037 20.576 17.4609 20.5778 17.5799 20.6898C17.8414 20.9365 18.0925 21.1963 18.3444 21.4534C18.9551 22.0763 19.5485 22.7166 20.1783 23.3186C20.8255 23.9371 21.424 24.6043 22.0938 25.1994C22.6038 25.652 23.1658 25.8778 23.8521 25.7102C24.0059 25.6728 24.1927 25.6972 24.3143 25.6164C24.5575 25.4556 24.8329 25.3279 25.0153 25.0873C25.1821 24.8675 25.3924 24.6608 25.4506 24.3862C25.5366 23.9771 25.5557 23.5636 25.474 23.1405C25.4297 22.9094 25.3289 22.7122 25.2038 22.5489C24.7877 22.0042 24.2569 21.5638 23.7783 21.0755C23.2067 20.4918 22.6072 19.9358 22.0382 19.3494C21.5396 18.836 21.0062 18.359 20.5258 17.8274C20.3833 17.6693 20.3564 17.5737 20.4936 17.4113C20.5588 17.334 20.6352 17.2662 20.7065 17.195C22.066 15.8345 23.4282 14.4767 24.7843 13.1137C25.1126 12.7836 25.4367 12.4526 25.4949 11.9444C25.5566 11.4023 25.5626 10.868 25.2334 10.4111C24.8529 9.88204 24.3603 9.50415 23.6653 9.47374C23.1789 9.45289 22.7315 9.53542 22.3258 9.82905C21.7759 10.2278 21.3563 10.7595 20.8672 11.219C20.2782 11.7733 19.7239 12.364 19.1532 12.9373C18.6337 13.4594 18.1116 13.9798 17.593 14.5028C17.4913 14.6044 17.2828 14.6235 17.1829 14.5176C16.8198 14.1327 16.4436 13.7609 16.0684 13.3873C15.4394 12.7619 14.833 12.1129 14.1971 11.4953C13.7245 11.0366 13.2745 10.5553 12.7959 10.1027C12.3832 9.71264 11.9133 9.43639 11.3051 9.47374L11.3034 9.47548Z"
              fill="#B82929"
            />
          </svg>
          Defeated
        </div>
      );
    case 'loading':
      return (
        <div className={cn(classStr, 'text-[#4CBC16]')}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="35"
            height="35"
            viewBox="0 0 35 35"
            fill="none"
          >
            <path
              d="M17.412 3.2651C17.0065 3.28643 16.5371 3.24668 16.0726 3.32424C15.8679 3.35817 15.7806 3.27867 15.7593 3.07218C15.6652 2.15025 15.5644 1.22929 15.4616 0.309294C15.446 0.173573 15.5004 0.116376 15.6303 0.104743C15.8951 0.0805072 16.1589 0.0359132 16.4237 0.0233105C18.504 -0.0736329 20.5524 0.125101 22.5454 0.745539C24.9963 1.50848 27.1949 2.72706 29.1143 4.44393C30.4905 5.67511 31.6669 7.06916 32.5941 8.66291C33.7376 10.628 34.5174 12.7287 34.8229 14.9894C35.2127 17.8764 34.9732 20.7072 33.9616 23.4468C33.1887 25.5369 32.0772 27.4331 30.5778 29.0986C29.3868 30.4219 28.0484 31.5648 26.5228 32.4771C24.4929 33.6918 22.3117 34.5013 19.9607 34.8309C18.5971 35.0218 17.2286 35.0432 15.8573 34.9346C15.4722 34.9045 15.4567 34.8997 15.4936 34.5274C15.5809 33.6375 15.6866 32.7495 15.7806 31.8605C15.7962 31.7151 15.8728 31.6676 16.0076 31.6773C16.2733 31.6967 16.5381 31.717 16.8038 31.7306C18.3304 31.8111 19.8347 31.6569 21.3021 31.2304C23.2689 30.6584 25.0603 29.751 26.6392 28.4268C27.675 27.5582 28.5527 26.5548 29.3247 25.4574C29.8921 24.6499 30.3082 23.757 30.6961 22.8496C31.5758 20.7944 31.8435 18.6432 31.7077 16.4349C31.57 14.1877 30.8658 12.1063 29.7204 10.1762C28.7409 8.52525 27.4597 7.14284 25.9079 6.01151C23.9323 4.57093 21.7336 3.69068 19.309 3.36689C18.699 3.28546 18.0879 3.26995 17.4129 3.26316L17.412 3.2651Z"
              fill="#4CBC16"
            />
            <path
              d="M12.712 3.94855C12.7179 4.0804 12.617 4.09397 12.5384 4.12693C11.942 4.37123 11.3407 4.60486 10.7713 4.91217C10.5085 5.05371 10.2476 5.19719 9.99158 5.35036C9.85483 5.43276 9.76851 5.42597 9.67831 5.28056C9.18465 4.48659 8.68615 3.6965 8.18085 2.90932C8.07901 2.75033 8.12557 2.6689 8.26814 2.58165C9.01978 2.12311 9.81021 1.74115 10.6152 1.38731C10.8877 1.2671 11.168 1.16337 11.4425 1.04801C11.5909 0.984992 11.6869 1.01698 11.7422 1.175C12.0574 2.0727 12.3745 2.96846 12.6907 3.86518C12.7014 3.89523 12.7062 3.92723 12.712 3.94952V3.94855Z"
              fill="#4CBC16"
            />
            <path
              d="M12.7256 31.0607C12.7159 31.0918 12.7043 31.1305 12.6907 31.1683C12.3823 32.0418 12.0691 32.9143 11.7674 33.7897C11.7034 33.9758 11.6132 34.0291 11.427 33.9555C10.3466 33.5279 9.29816 33.0345 8.2963 32.4431C8.13336 32.3472 8.08681 32.2638 8.20222 32.0845C8.69588 31.3205 9.18178 30.5508 9.65701 29.7753C9.77145 29.5891 9.87717 29.5794 10.0459 29.6851C10.8296 30.1727 11.6666 30.5479 12.5297 30.8707C12.617 30.9037 12.7218 30.9269 12.7256 31.0617V31.0607Z"
              fill="#4CBC16"
            />
            <path
              d="M5.06668 5.14483C5.09771 5.16907 5.14718 5.19718 5.18306 5.23693C5.81735 5.93492 6.54474 6.53985 7.17418 7.24269C7.29833 7.38132 7.27796 7.45403 7.16351 7.57811C6.5302 8.26641 5.92985 8.98185 5.42553 9.77097C5.32854 9.92221 5.25289 9.93772 5.10062 9.8398C4.32183 9.33861 3.53818 8.84419 2.74968 8.35851C2.5819 8.25478 2.57511 8.16656 2.67694 8.01242C3.32287 7.0362 4.05027 6.12493 4.85331 5.2728C4.96387 5.1555 4.99588 5.13805 5.06668 5.14289V5.14483Z"
              fill="#4CBC16"
            />
            <path
              d="M7.28375 27.6095C7.26047 27.7055 7.18579 27.7705 7.11887 27.8374C6.57769 28.3783 6.03554 28.9173 5.49339 29.4583C5.43035 29.5213 5.37216 29.5882 5.31106 29.6512C5.04337 29.9255 5.02786 29.9187 4.77181 29.6444C4.0192 28.8349 3.33351 27.9731 2.72056 27.0531C2.55277 26.802 2.5615 26.7816 2.81076 26.6246C3.5818 26.1409 4.3538 25.659 5.11999 25.1675C5.2645 25.0754 5.33724 25.0948 5.42647 25.2354C5.92983 26.0255 6.53599 26.7361 7.16058 27.4321C7.2081 27.4845 7.27502 27.5242 7.28375 27.6095Z"
              fill="#4CBC16"
            />
            <path
              d="M2.99114 15.9337C2.07075 15.8261 1.15132 15.7175 0.230923 15.6108C0.0757454 15.5924 -0.0212405 15.5459 0.00397585 15.353C0.153334 14.1994 0.406468 13.0709 0.776954 11.9667C0.847754 11.7554 0.93892 11.7079 1.14647 11.7826C2.00383 12.0889 2.86506 12.3865 3.72727 12.6793C3.89602 12.7365 3.94064 12.8189 3.8805 12.9846C3.56142 13.8668 3.35775 14.7762 3.24622 15.7078C3.221 15.9172 3.1696 15.9569 2.99114 15.9346V15.9337Z"
              fill="#4CBC16"
            />
            <path
              d="M3.0503 19.0737C3.2142 19.0572 3.23554 19.1735 3.24815 19.2899C3.32962 20.0945 3.51971 20.8759 3.74859 21.6485C3.75732 21.6795 3.76605 21.7105 3.77575 21.7416C3.88567 22.0886 3.76379 22.3239 3.41011 22.4473C2.64102 22.7139 1.87095 22.9766 1.10379 23.2481C0.941821 23.3053 0.863263 23.2839 0.800222 23.1065C0.404519 21.9849 0.164964 20.8283 0.00687666 19.6524C-0.00864109 19.5371 0.00202737 19.444 0.149446 19.4256C1.1164 19.3092 2.08432 19.191 3.05127 19.0727L3.0503 19.0737Z"
              fill="#4CBC16"
            />
            <path
              d="M25.9691 11.3958C26.0418 11.7273 25.844 11.9949 25.65 12.2518C25.2446 12.7898 24.8237 13.3152 24.4076 13.8455C24.1642 14.1557 23.9188 14.464 23.6734 14.7713C23.2719 15.2745 22.8684 15.7757 22.4688 16.2807C22.2235 16.5909 22.0014 16.9215 21.7395 17.2172C21.4456 17.5478 21.1838 17.9026 20.9122 18.2487C20.7212 18.492 20.4991 18.713 20.3449 18.9884C20.275 19.1124 20.1713 19.2201 20.0723 19.3257C19.8105 19.6088 19.5855 19.9239 19.3507 20.2273C19.1442 20.4939 18.9075 20.7363 18.7233 21.0222C18.6127 21.1958 18.4604 21.3421 18.3382 21.5079C18.1714 21.7348 17.959 21.9238 17.8223 22.1759C17.765 22.2825 17.6574 22.362 17.5798 22.4589C17.2762 22.839 16.9833 23.2277 16.671 23.6009C16.446 23.8704 16.254 24.1651 16.0038 24.4162C15.7099 24.71 14.9612 24.7536 14.6508 24.4434C14.2755 24.0692 13.9263 23.6707 13.5597 23.2897C13.2659 22.9834 12.9914 22.6596 12.6946 22.3552C12.3261 21.9781 11.9818 21.5787 11.6239 21.1909C11.3746 20.9214 11.1254 20.6529 10.8674 20.3921C10.6598 20.1808 10.4862 19.9336 10.2758 19.7339C10.0285 19.4983 9.81315 19.2346 9.57457 18.9942C9.33307 18.7518 9.0683 18.5133 8.90342 18.1992C8.84329 18.0839 8.87433 17.922 8.724 17.8541C8.77346 17.732 8.70363 17.6021 8.73855 17.4857C8.8268 17.1881 8.89954 16.876 9.14589 16.6598C9.25645 16.5628 9.37962 16.4707 9.53383 16.4397C9.58523 16.4291 9.63858 16.4203 9.68416 16.3961C9.83837 16.3137 9.97318 16.3379 10.1419 16.3922C10.3912 16.4727 10.5803 16.6258 10.7394 16.8023C10.9236 17.0059 11.1118 17.2065 11.3009 17.4062C11.6093 17.73 11.9129 18.0577 12.2165 18.3873C12.3823 18.5676 12.5394 18.7547 12.7053 18.935C12.9012 19.1473 13.0952 19.3626 13.3027 19.5623C13.5626 19.8124 13.7779 20.1013 14.0282 20.3591C14.3201 20.6606 14.6062 20.9689 14.8942 21.2743C14.9612 21.3451 15.0339 21.4129 15.0931 21.4905C15.1745 21.5971 15.2453 21.6 15.3297 21.4944C15.5634 21.2016 15.803 20.9127 16.0367 20.6199C16.2792 20.3165 16.5236 20.015 16.7583 19.7057C16.962 19.4362 17.1977 19.1939 17.381 18.9079C17.478 18.7567 17.6079 18.6239 17.7321 18.492C17.8756 18.3418 17.9706 18.1556 18.1093 18.0024C18.5332 17.5361 18.8969 17.0204 19.2935 16.5308C19.6339 16.1091 19.9899 15.6981 20.309 15.2609C20.6484 14.7965 21.0354 14.3709 21.3826 13.9134C21.7143 13.4752 22.0334 13.0273 22.4242 12.6386C22.5338 12.529 22.5678 12.3652 22.6706 12.2547C22.9509 11.9551 23.1924 11.6236 23.4484 11.3056C23.6977 10.9954 23.9372 10.6755 24.2097 10.3875C24.3126 10.279 24.46 10.1704 24.6413 10.1752C24.7975 10.1791 24.9498 10.1335 25.1088 10.1626C25.4618 10.2286 25.6733 10.4554 25.841 10.7511C25.9516 10.9459 25.9846 11.1515 25.9662 11.3958H25.9691Z"
              fill="#4CBC16"
            />
          </svg>
          Ongoing
        </div>
      );
  }
}

function TransactionDetail() {
  const navigate = useNavigate();
  const [searchParams] = useSearchParams();
  const goBack = useCallback(() => {
    navigate(-1);
  }, []);
  const { getTransaction } = useContext(XWalletProviderContext);
  const [hash] = useState(searchParams.get('hash'));
  const [loading, setLoading] = useState(false);
  useEffect(() => {
    if (hash !== '') {
      setLoading(true);
      getTransaction(hash)
        .then((tx) => {
          console.log(tx);
        })
        .finally(() => {
          setLoading(false);
        });
    }
  }, [hash]);

  return (
    <div className="p-4">
      <div
        className={cn(
          'w-16 h-8 text-white bg-[#D9D9D9] cursor-pointer rounded-2xl',
          'flex justify-center items-center text-2xl font-bold'
        )}
        onClick={goBack}
      >
        ←
      </div>
      <div
        className={cn(
          'text-center text-[#5B6A78] text-sm font-semibold leading-8'
        )}
      >
        @xiaomin78944285
      </div>
      <div
        className={cn(
          'w-44 h-9 rounded-2xl bg-[#E9E9E9] m-auto text-base',
          'flex justify-center items-center'
        )}
      >
        to Jeffrey Ma &nbsp;&nbsp;
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="8"
          height="14"
          viewBox="0 0 8 14"
          fill="none"
        >
          <path d="M8 7L0.499999 0.0717967L0.5 13.9282L8 7Z" fill="#AEAEAE" />
        </svg>
      </div>
      <div className="text-center text-4xl font-semibold my-3">-1234</div>
      <div className="text-center text-base font-semibold mb-3 text-[##AEAEAE]">
        ETH
      </div>
      <div className={cn('relative mb-2')}>
        <AddressCopyBox
          address="0xYEU3Gf843349Y4cnjif90033jkGhdud"
          classnames="mb-2"
        />
        <AddressCopyBox address="0xYEU3Gf843349Y4cnjif90033jkGhdud" />
        <div
          className={cn(
            'absolute left-1/2 top-1/2',
            'px-2 py-1 bg-[#AEAFAE] rounded-xl text-white'
          )}
          style={{
            translate: '-50% -50%',
          }}
        >
          ↓
        </div>
      </div>
      <StatusIcon status="success" />
      <div className={cn('text-center text-sm text-[#AEAEAE] font-semibold')}>
        Trading time: 2023-11-07 13:50:52
      </div>
      <CopyToClipboard text="0X12762343647">
        <div
          className={cn(
            'flex justify-center items-center',
            'text-sm text-[#AEAEAE] font-semibold'
          )}
        >
          <span>Transaction hash: 0X12762343647</span> &nbsp;&nbsp;
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="12"
            height="15"
            viewBox="0 0 12 15"
            fill="none"
          >
            <rect
              x="0.5"
              y="0.5"
              width="8"
              height="11"
              fill="#F7F7F7"
              stroke="#DCDCDC"
            />
            <rect
              x="3.5"
              y="3.5"
              width="8"
              height="11"
              fill="#F7F7F7"
              stroke="#DCDCDC"
            />
          </svg>
        </div>
      </CopyToClipboard>

      <div className={cn('text-center text-sm text-[#AEAEAE] font-semibold')}>
        Gas fee: 0.0002347 ETH（$0.0134）
      </div>
      <div className={cn('text-center text-sm text-[#AEAEAE] font-semibold')}>
        Network: Ethereum
      </div>
    </div>
  );
}

export default TransactionDetail;
